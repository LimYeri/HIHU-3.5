{% extends 'headerBox.html' %}
{% load static %}
{% block head %}
    <title>HIHU3.5</title>

    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/calendarStyle.css' %}">
    {{ block.super }}
{% endblock %}
{% block content %}
    <div id="ScheduleApp" v-cloak>
        <div class="hero">
            <div class="calendarHero">
                <div class="menuTitle">
                    <h2 class="tSemi menuTText tBlack">ÌïôÏÇ¨ÏùºÏ†ï</h2>
                </div>
                <div class="calendarListPart">
                    <!-- üìÖ Ï∫òÎ¶∞Îçî ÏòÅÏó≠ -->
                    <div class="calendarContainer">
                        <div class="sec_cal">
                            <div class="cal_nav">
                                <!-- Ïù¥Ï†Ñ/Îã§Ïùå Ïõî Ïù¥Îèô -->
                                <a href="javascript:;" class="nav-btn go-prev mainText"
                                @click.prevent="goPrevMonth">
                                    prev
                                </a>
                                <div class="year-month menuTText">
                                    [[ year ]].[[ month ]]
                                </div>
                                <a href="javascript:;" class="nav-btn go-next mainText"
                                @click.prevent="goNextMonth">
                                    next
                                </a>
                            </div>
                            <div class="cal_wrap">
                                <div class="days">
                                    <div class="day mainText">Ïõî</div>
                                    <div class="day mainText">Ìôî</div>
                                    <div class="day mainText">Ïàò</div>
                                    <div class="day mainText">Î™©</div>
                                    <div class="day mainText">Í∏à</div>
                                    <div class="day mainText">ÌÜ†</div>
                                    <div class="day mainText">Ïùº</div>
                                </div>
                                <div class="dates mainText">
                                    <!-- ÎÇ†Ïßú Î≤ÑÌäºÎì§ -->
                                    <button
                                        v-for="day in calendarDays"
                                        :key="day.key"
                                        class="day"
                                        :class="dayClasses(day)"
                                        @click="onClickDay(day)"
                                        :disabled="!day.inCurrentMonth"
                                    >
                                        [[ day.day ]]
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- üìã ÏùºÏ†ï Î™©Î°ù ÏòÅÏó≠ -->
                    <div class="listPartContainer">
                        <div class="listPart">
                            <!-- Î°úÎî© -->
                            <div v-if="loading" class="calendarList">
                                <div class="objectBox">
                                    <p class="tBlack mainText">ÏùºÏ†ïÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ëÏûÖÎãàÎã§...</p>
                                    <p class="tGrey subText"></p>
                                </div>
                            </div>

                            <!-- ÏóêÎü¨ -->
                            <div v-else-if="error" class="calendarList">
                                <div class="objectBox">
                                    <p class="tBlack mainText">[[ error ]]</p>
                                    <p class="tGrey subText"></p>
                                </div>
                            </div>

                            <!-- ÏùºÏ†ï ÏóÜÏùå -->
                            <div v-else-if="schedules.length === 0" class="calendarList">
                                <div class="objectBox">
                                    <p class="tBlack mainText">ÏùºÏ†ïÏù¥ ÏóÜÏäµÎãàÎã§.</p>
                                    <p class="tGrey subText"></p>
                                </div>
                            </div>

                            <!-- ÏùºÏ†ï Î™©Î°ù -->
                            <div v-else
                                v-for="event in schedules"
                                :key="event.id"
                                class="calendarList">
                                <div class="objectBox">
                                    <p class="tBlack mainText">
                                        [[ event.title ]]
                                    </p>
                                    <p class="tGrey subText">
                                        <span v-if="!event.end_date || event.start_date === event.end_date">
                                            [[ formatDateKorean(event.start_date) ]]
                                        </span>
                                        <span v-else>
                                            [[ formatDateKorean(event.start_date) ]] -
                                            [[ formatDateKorean(event.end_date) ]]
                                        </span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /listPartContainer -->
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block scripts %}
    <script src = "https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>
    <script src = "{% static 'js/subHeader.js' %}"></script>


    <!-- Vue & Axios CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <!-- Vue ÌååÏùº -->
    <script src="{% static 'js/vue/calendar.js' %}"></script>
{% endblock %}
